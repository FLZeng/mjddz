[1,0,0,[["cc.TextAsset",["_name","text"],1]],[[0,0,1,3]],[[0,"msg","syntax = \"proto2\";\r\n\r\npackage protomsg;\r\n\r\nmessage cmsg {\r\n\trequired int32\tmsgId = 1;\r\n\toptional int32\tseatId = 2 [default = 0];\r\n\trequired bytes  paraBuf = 3;\r\n}\r\n\r\nmessage gamecfg\r\n{\r\n\trequired int32\tgameType = 1;\r\n\trequired int64  moneyLimit = 2;\t//开局金钱\r\n\trequired int64  maxBeilv = 3;\t//封顶\r\n\trequired int64  dizhu = 4;\t\t//底注\r\n\trequired int32  faPaiNum = 5;\t//发牌张数\r\n\trequired int32  aiGrade = 6;\t//ai等级\r\n\trequired int32  winExp = 7;\t\t//赢一局经验\r\n\trequired int32  lossExp = 8;\t//输一局经验\r\n\r\n\trequired gameruleinfo ruleInfo = 9;\t//牌局设置，是否换三张，是否有带幺九之类的\r\n\r\n\toptional int32  preSetIndex = 10;\t//预置牌型\r\n\toptional int32  preSetZhuangSeat = 11;\t//预置庄家\r\n\r\n\trequired int64 goodAvgWinMoney = 12;\t//发一般好牌，带根等\r\n\trequired int64 bestAvgWinMoney = 13;\t//发最好的牌，清一色，龙七对等\r\n\trequired int32 goodContinueNoBigWinCount = 14;\t//达到一定局数没有大赢过，发一般好牌，带根等\r\n\trequired int32 bestContinueNoBigWinCount = 15;\t//达到一定局数没有大赢过，发最好的牌，清一色，龙七对等\r\n\trequired int32 newPlayerGameCount = 16;\t\t//用于判断新玩家的玩的局数配置，发最最好的牌\r\n\trequired int32 newPlayerNextGameCount = 17;\t\t//用于判断新玩家的玩的局数配置，发good牌\r\n}\r\n\r\nmessage gameruleinfo\r\n{\r\n\trequired int32\tisHuanSanZhang = 1;\r\n\trequired int32\tisFanbeixueliu = 2;\r\n}\r\n\r\nmessage playerinfo\r\n{\r\n\trequired string\t\tname = 1;\r\n\trequired string\t\tnickname = 2;\r\n\trequired int64\t\tmoney = 3;\r\n}\r\n\r\nmessage controlinfo\r\n{\r\n\trequired int64\t\tlatestAvgWinMoney = 1;\r\n\trequired int32\t\tcontinueNoBigWinCount = 2;\r\n\trequired int32\t\tgameCount = 3;\r\n\trequired int32      allGameTotalCount = 4;\r\n\trequired int64      lastGameTime = 5;\r\n}\r\n\r\nmessage initgameinfo\r\n{\r\n\trequired gamecfg\t\tcfg = 1;\r\n\trequired controlinfo \tcontrolInfo = 2;\r\n\trepeated playerinfo\t\tplayers = 3;\r\n}\r\n\r\nmessage destroygame\r\n{\r\n\trequired int32\t\tflag = 1;\r\n}\r\n\r\nmessage requestready\r\n{\r\n\trequired int32\t\ttype = 1;\t//游戏类型，明牌开始1   普通开始0（非1）\r\n}\r\n\r\nmessage notifygamestart\r\n{\r\n\trequired int32\t\ttype = 1;\r\n}\r\n\r\nmessage requestgameop \r\n{\r\n    required int32 op = 1;\r\n    required int32 mj1 = 2;\r\n\toptional int32 mj2 = 3;\t//仅在换三张时使用\r\n\toptional int32 mj3 = 4;\t//仅在换三张时使用\r\n}\r\n\r\n// message notifygamerule\r\n// {\r\n//     required int64 baseMoney = 1;\r\n//     required int32 baseScore = 2;\r\n//     required int64 maxFan = 3;\r\n// }\r\n\r\nmessage notifydice\r\n{\r\n\trequired int32 zhuangIndex = 1;\t//\t\t是否庄家\r\n\trequired int32 seatIndex = 2;\t\t//\t\t投色人的位置\r\n\trequired int32 dice1 = 3;\t//\t\t色子1\r\n\trequired int32 dice2 = 4;\t//\t\t色子2\r\n}\r\n\r\nmessage notifyfapai\r\n{\r\n\trequired int32 seatIndex = 1;\r\n\trepeated int32 mjCards = 2; //\t\t麻将\r\n}\r\n\r\nmessage notifyfapaiover\r\n{\r\n\trequired int32\t\tflag = 1;\r\n}\r\n\r\nmessage tiphucardsinfo\t\t//胡牌提示，牌张数有客户端上层自行记录计算\r\n{\r\n\trequired int32\t\tcard = 1;\t//胡哪张\r\n\trequired int64\t\tfan = 2;\t//倍数\r\n}\r\n\r\nmessage dealtiphucardsinfo\t//轮到玩家出牌时的胡牌提示，会包含打掉某张牌后的可胡的牌的提示\r\n{\r\n\trequired int32\t\t\tdealCard = 1;\t\t//打掉的牌\r\n\trepeated tiphucardsinfo huCardsInfo = 2;\t//打掉这张牌对应的胡牌提示\r\n}\r\n\r\nmessage notifywaitop\r\n{\r\n\trequired int32 opMask = 1;     //\t\t操作掩码\r\n\toptional int32 mj = 2;  //\t\t麻将\r\n\trequired int32 seatIndex = 3; \t//\t\t座位\r\n\trequired int32 timeOut = 4; \t//\t\t等待时间\r\n\r\n\trequired int32 \t\t\t\thaveTip = 5;\t\t//是否有胡牌提示，没胡牌，有出牌权限就有\r\n\trepeated dealtiphucardsinfo\tdealTipHuCardsInfo = 6;\t//有出牌权限才有提示,所以是dealTip\r\n\r\n\trepeated int32\t\t\t\ttipCards = 7;\t//只在定缺和换三张有用，定缺取第一张\r\n\r\n\trepeated int32\t\t\t\tcanGangCards = 8;\t//可杠的牌，只在有杠牌权限时才有\r\n}\r\n\r\nmessage notifygetmj\r\n{\r\n\trequired int32 seatIndex = 1;\t//\t\t摸牌人的位置\r\n\trequired int32 mj = 2;\t\t\t//\t\t摸到的牌\r\n\trequired int32 dealMask = 3;\t//\t\t操作掩码\r\n\trequired int32 timeOut = 4;\t\t//\t\t时间\r\n\r\n\trequired int32\t\t\t\tleftCardCount = 5;\r\n\trequired int32 \t\t\t\thaveTip = 6;\t\t//是否有胡牌提示，没胡牌就一定有\r\n\trepeated dealtiphucardsinfo\tdealTipHuCardsInfo = 7;\t//有出牌权限才有提示,所以是dealTip\r\n\r\n\trepeated int32\t\t\t\tcanGangCards = 8;\t//可杠的牌，只在有杠牌权限时才有\r\n}\r\n\r\nmessage pgcardsinfo\r\n{\r\n\trequired int32 isAnGang = 1;\t//是否是暗杠\r\n\trequired int32 cardNum = 2;\t//牌张数，碰3杠4\r\n\trequired int32 card = 3;\t//碰杠牌\r\n}\r\n\r\n\r\nmessage notifygameop\r\n{\r\n\trequired int32  seatIndex = 1;\t//\t\t操作者座位\r\n\trequired int32  op = 2;\t\t\t//\t\t操作码\r\n\trequired int32  tagMj = 3;\t\t//\t\t目标牌，如果是0，则表示是自己摸牌导致的操作\r\n\toptional int32  gangType = 4;\t\t//\t\t杠牌类型，暗杠明杠加杠\r\n\toptional int32  huType = 5;\t\t\t//\t\t胡牌类型，自摸点炮\r\n\toptional int32  huStatus = 6;\r\n\r\n\trepeated int32  handMjs = 7;\t\t//手牌数组\r\n\trepeated pgcardsinfo  pgCards = 8;\t\t//碰杠牌信息数组，只在抢杠胡之后使用\r\n\r\n\toptional int32\texchange3CardsType = 9;  //换三张方向/类型 1顺2逆3对家，仅在op是换三张时有用\r\n\trepeated int32\texchange3Cards = 10;\t\t//换三张的牌，仅在op是换三张时有用\r\n\r\n\trequired int32\t\t\t\thaveTip = 11;\r\n\trepeated tiphucardsinfo\t\ttipHuCardsInfo = 12;\t//此处因为已经出完牌，只有一种胡牌提示\r\n}\r\n\r\n\r\n// message statinfo\r\n// {\r\n// \trequired string name = 1;\r\n// \trequired string value = 2;\r\n// }\r\n\r\n// message playerstatinfo\r\n// {\r\n// \trequired string \tplayerName = 1;\r\n// \trequired statinfo \titemStat = 2;\r\n// }\r\n\r\nmessage gamerecord\r\n{\r\n\trequired string\t\tdes = 1;\r\n\trequired int64\t\tfan = 2;\t//倍数，不是番数，比如3番=8倍，此处存的是8\r\n\trequired int64\t\tmoney = 3;\r\n\trequired string\t\tseatDes = 4;\r\n}\r\n\r\nmessage notifygamerecord\r\n{\r\n\trequired int32\t\tseatIndex = 1;\r\n\trequired gamerecord\trecord = 2;\r\n}\r\n\r\nmessage gameresultinfo\r\n{\r\n\trequired int64 \t\t\tuin = 1;\r\n\trequired string \t\tname = 2;\r\n\trequired int32\t\t\tseatIndex = 3;\r\n\trequired int32\t\t\tplayerStatus = 4; //胡牌，下叫，无叫，花猪\r\n\trequired int64\t\t\tmoneyChange = 5;\t//本局输赢\r\n\t\r\n\t//以下为计算最大牌型使用，只在胡牌时才有的字段\r\n\trepeated int32\t\t\thandCards = 6;\t//当前手牌，胡牌才有\r\n\trepeated pgcardsinfo\tpgCards = 7;\t//当前碰杠牌，胡牌才有\r\n\toptional int32\t\t\thuCard = 8;\t//就刚刚这一张胡牌，胡牌才有\r\n\toptional gamerecord\t\thuRecord = 9;\t//当次胡牌流水记录\r\n}\r\n\r\nmessage notifygameresult\r\n{\r\n\trequired int32 \t\t\tnum = 1;\r\n\trepeated gameresultinfo\tresults = 2;\r\n}\r\n\r\n// message notifymoneychange\r\n// {\r\n// \trequired int32\t\t\treason = 1;\r\n// \trepeated int64\t\t\tmoney = 2;\t//固定长度为4，四家的钱变化，下标为座位号\r\n// }\r\n\r\nmessage notifymoneychange\t//钱变化，以前的FanChg协议\r\n{\r\n\trequired int32\t\t\tseatIndex = 1;\r\n\trequired int64\t\t\tmoneyChg = 2;\r\n\trequired int32\t\t\tmoneyChgFlag = 3;\t//flag，标识因为哪些原因导致的金币变化\r\n}\r\n\r\nmessage notifyshowmj\r\n{\r\n\trequired int32\t\tseatIndex = 1;\t//\t\t倒牌的玩家\r\n\trequired int32\t\tanGangCount = 2;\t//\t\t暗杠数\r\n\trepeated int32\t\tanGangCards = 3;\t//\t\t暗杠牌\r\n\trequired int32\t\thandCardCount = 4;\t//\t\t牌数\r\n\trepeated int32\t\thandCards = 5;\t//\t\t手里的牌\r\n\trequired int32\t\tlastMj = 6;\t//\t\t最后一张牌 胡牌\r\n}\r\n\r\nmessage notifygameend\r\n{\r\n\trequired int32\t\tflag = 1;\r\n}\r\n\r\nmessage requestuseitem\r\n{\r\n\trequired int32\t\titemId = 1;\r\n\r\n\toptional int32\t\tselectMj = 2;\t//手牌\r\n\toptional int32\t\tchangeMj = 3;\t//想要换回的牌\r\n}\r\n\r\nmessage responseuseitem\r\n{\r\n\trequired int32\t\tresultId = 1;\r\n\trequired string\t\tresultStr = 2;\r\n\trequired int32\t\titemId = 3;\r\n\t\r\n\t//以下五个仅在换牌道具使用\r\n\toptional int32\t\tselectMj = 4;\t//手牌\r\n\toptional int32\t\tchangeMj = 5;\t//想要换回的牌\r\n\toptional int32\t\topMask = 6;\t\t//用完道具后有可能的操作位改变\r\n\toptional int32\t\ttipCantHu = 7;\t//提示换牌后不能胡牌\r\n\toptional int32 \t\t\t\thaveTip = 8;\t//是否有胡牌提示，没胡牌，有出牌权限就有\r\n\trepeated dealtiphucardsinfo\tdealTipHuCardsInfo = 9;\t//有出牌权限才有提示,所以是dealTip\r\n\r\n\trepeated int32\t\t\t\tcanGangCards = 10;\t//可杠的牌，只在有杠牌权限时才有\r\n}\r\n\r\nmessage requestsetdealtime\r\n{\r\n\trequired int32\t\tdealtime = 1;\t//出牌时间，毫秒\r\n}\r\n\r\nmessage requestreport\r\n{\r\n\trequired string\t\tname = 1;\t\r\n}\r\n\r\nmessage responsereport\r\n{\r\n\trequired int32\t\tresult = 1;\r\n}\r\n\r\n////xgmj\r\nmessage minip_sc_gametransdataex \r\n{\r\n\trequired string            gamemsgid = 1;\r\n\trequired bytes             gamebuffer = 2;\t\r\n}"]],0,0,[],[],[]]